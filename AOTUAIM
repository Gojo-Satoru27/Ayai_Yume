-- D·ªãch v·ª• Roblox
local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")

-- Bi·∫øn ch√≠nh
local LocalPlayer = Players.LocalPlayer
local Camera = workspace.CurrentCamera
local AutoAimEnabled = false

-- T·∫°o GUI ch√≠nh
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Parent = LocalPlayer:FindFirstChildOfClass("PlayerGui")

-- üìå Th√¥ng b√°o khi b·∫≠t script
local NotificationFrame = Instance.new("Frame", ScreenGui)
NotificationFrame.Size = UDim2.new(0, 400, 0, 100)
NotificationFrame.Position = UDim2.new(0.5, -200, 0.2, 0)
NotificationFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
NotificationFrame.BorderSizePixel = 2
NotificationFrame.BorderColor3 = Color3.fromRGB(255, 255, 255)

-- ·∫¢nh ƒë·∫°i di·ªán Roblox
local ImageLabel = Instance.new("ImageLabel", NotificationFrame)
ImageLabel.Size = UDim2.new(0, 80, 0, 80)
ImageLabel.Position = UDim2.new(0, 10, 0.5, -40)
ImageLabel.Image = "rbxthumb://type=AvatarHeadShot&id=111982589088426&w=150&h=150"

-- N·ªôi dung th√¥ng b√°o
local NotificationLabel = Instance.new("TextLabel", NotificationFrame)
NotificationLabel.Size = UDim2.new(1, -100, 1, 0)
NotificationLabel.Position = UDim2.new(0, 100, 0, 0)
NotificationLabel.Text = "Script ƒë∆∞·ª£c t·∫°o b·ªüi Thong\nID Roblox: 111982589088426"
NotificationLabel.TextScaled = true
NotificationLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
NotificationLabel.Font = Enum.Font.SourceSansBold
NotificationLabel.BackgroundTransparency = 1

-- ·∫®n th√¥ng b√°o sau 10 gi√¢y
spawn(function()
    wait(10)
    NotificationFrame:Destroy()
end)

-- üìå N√∫t b·∫≠t/t·∫Øt Auto Aim
local StatusFrame = Instance.new("TextButton", ScreenGui)
StatusFrame.Size = UDim2.new(0, 200, 0, 50)
StatusFrame.Position = UDim2.new(0.5, -100, 0.05, 0)
StatusFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
StatusFrame.BorderSizePixel = 2
StatusFrame.BorderColor3 = Color3.fromRGB(255, 255, 255)
StatusFrame.TextScaled = true
StatusFrame.Font = Enum.Font.SourceSansBold
StatusFrame.TextColor3 = Color3.fromRGB(255, 0, 0) -- M·∫∑c ƒë·ªãnh l√† ƒë·ªè (OFF)
StatusFrame.Text = "Auto Aim OFF"

-- üìå B·∫£ng hi·ªÉn th·ªã kho·∫£ng c√°ch
local DistanceFrame = Instance.new("Frame", ScreenGui)
DistanceFrame.Size = UDim2.new(0, 300, 0, 400)
DistanceFrame.Position = UDim2.new(0.02, 0, 0.1, 0)
DistanceFrame.BackgroundTransparency = 0.5
DistanceFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)

local DistanceLabel = Instance.new("TextLabel", DistanceFrame)
DistanceLabel.Size = UDim2.new(1, 0, 1, 0)
DistanceLabel.TextScaled = true
DistanceLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
DistanceLabel.Font = Enum.Font.SourceSansBold
DistanceLabel.Text = "Kho·∫£ng c√°ch ng∆∞·ªùi ch∆°i:\n"
DistanceLabel.TextYAlignment = Enum.TextYAlignment.Top

-- üìå H√†m l·∫•y danh s√°ch kho·∫£ng c√°ch ng∆∞·ªùi ch∆°i
function getPlayersDistance()
    local distances = {}

    for _, player in pairs(Players:GetPlayers()) do
        if player ~= LocalPlayer and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
            local pos = player.Character.HumanoidRootPart.Position
            local distance = (LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") and 
                (LocalPlayer.Character.HumanoidRootPart.Position - pos).magnitude) or math.huge
            
            if distance < 500 then -- Ch·ªâ hi·ªÉn th·ªã ng∆∞·ªùi trong ph·∫°m vi 500m
                table.insert(distances, {player.Name, math.floor(distance)})
            end
        end
    end

    -- S·∫Øp x·∫øp theo kho·∫£ng c√°ch g·∫ßn nh·∫•t
    table.sort(distances, function(a, b) return a[2] < b[2] end)
    return distances
end

-- üìå C·∫≠p nh·∫≠t danh s√°ch kho·∫£ng c√°ch m·ªói gi√¢y
spawn(function()
    while true do
        if AutoAimEnabled then
            local distances = getPlayersDistance()
            local displayText = "Kho·∫£ng c√°ch ng∆∞·ªùi ch∆°i:\n"
            
            for _, data in pairs(distances) do
                displayText = displayText .. data[1] .. ": " .. data[2] .. "m\n"
            end

            DistanceLabel.Text = displayText
        else
            DistanceLabel.Text = "Auto Aim ƒëang t·∫Øt!"
        end

        wait(1) -- C·∫≠p nh·∫≠t m·ªói gi√¢y
    end
end)

-- üìå Auto Aim (Nh·∫Øm v√†o ng∆∞·ªùi g·∫ßn nh·∫•t)
RunService.RenderStepped:Connect(function()
    if AutoAimEnabled then
        local target = getPlayersDistance()[1] -- L·∫•y ng∆∞·ªùi g·∫ßn nh·∫•t
        if target then
            local player = Players:FindFirstChild(target[1])
            if player and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                local screenPoint, onScreen = Camera:WorldToViewportPoint(player.Character.HumanoidRootPart.Position)
                if onScreen then
                    mousemoverel((screenPoint.X - Camera.ViewportSize.X / 2) * 0.1, (screenPoint.Y - Camera.ViewportSize.Y / 2) * 0.1)
                end
            end
        end
    end
end)

-- üìå Chuy·ªÉn ƒë·ªïi Auto Aim khi nh·∫•n v√†o n√∫t
StatusFrame.MouseButton1Click:Connect(function()
    AutoAimEnabled = not AutoAimEnabled
    if AutoAimEnabled then
        StatusFrame.Text = "Auto Aim ON"
        StatusFrame.TextColor3 = Color3.fromRGB(0, 255, 0) -- Xanh khi b·∫≠t
    else
        StatusFrame.Text = "Auto Aim OFF"
        StatusFrame.TextColor3 = Color3.fromRGB(255, 0, 0) -- ƒê·ªè khi t·∫Øt
    end
end)
